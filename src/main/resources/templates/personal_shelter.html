<!DOCTYPE html>
<html lang="en">

<head>
	<title>ä¸€èˆ¬é ˜é¤Š -å¯µç‰©è³‡è¨Šå¹³å°</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Montserrat:200,300,400,500,600,700,800&display=swap"
          rel="stylesheet">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="css/animate.css">

    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">


    <link rel="stylesheet" href="css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="css/jquery.timepicker.css">

    <link rel="stylesheet" href="css/flaticon.css">
    <link rel="stylesheet" href="css/style.css">

    <style>
        .page_show {
            padding: 40px 0;
            text-align: center;
        }

        .page_show span {
            display: inline-block;
            height: 28px;
            line-height: 28px;
            padding: 0 11px;
            margin: 0 5px;
            text-align: center;
            font-size: 14px;
            border-radius: 1px;
            border: #b7b7b7 solid 1px;
            background-color: #f8f8f8;
            cursor: pointer;
        }

        span.page_cur {
            color: #fff;;
            border: #282828 solid 1px;
            background-color: #424242;
        }
    </style>
</head>

<body>

<div class="wrap">
    <div class="container">
        <div class="row">
            <div class="col-md-6 d-flex align-items-center">

			</div>
			<div class="col-md-6 d-flex justify-content-md-end">
				<div class="social-media">
					<p class="mb-0 d-flex">
						<a href="#" class="d-flex align-items-center justify-content-center"></a>
						<a href="#" class="d-flex align-items-center justify-content-center"></a>
						<a href="#" class="d-flex align-items-center justify-content-center"></a>
						<a href="#" class="d-flex align-items-center justify-content-center"></a>
					</p>
				</div>
			</div>
		</div>
	</div>
</div>
<nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
	<div class="container">
		<a class="navbar-brand" href="http://localhost:8080/index"><span class="flaticon-pawprint-1 mr-2"></span>å¯µç‰©è³‡è¨Šå¹³å°</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav"
				aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
			<span class="fa fa-bars"></span>
		</button>
		<div class="collapse navbar-collapse" id="ftco-nav">
			<ul class="navbar-nav ml-auto">
				<li class="nav-item"><a href="http://localhost:8080/index" class="nav-link">é¦–é </a></li>
				<li class="nav-item"><a href="http://localhost:8080/public_shelter" class="nav-link">å…¬ç«‹é ˜é¤Š</a></li>
				<li class="nav-item active"><a href="http://localhost:8080/personal_shelter" class="nav-link">ä¸€èˆ¬é ˜é¤Š</a></li>
				<li class="nav-item"><a href="http://localhost:8080/publish" class="nav-link">åˆŠç™»é€é¤Š</a></li>
				<li class="nav-item"><a href="http://localhost:8080/missing" class="nav-link">èµ°å¤±å”å°‹</a></li>
				<li class="nav-item"><a href="http://localhost:8080/animal_hospital" class="nav-link">å‹•ç‰©é†«é™¢</a></li>
				<li class="nav-item"><a href="http://localhost:8080/funeral" class="nav-link">å¯µç‰©é€åˆ¥</a></li>
				<li class="nav-item"><a href="http://localhost:8080/login_register" class="nav-link">ç™»å…¥è¨»å†Š</a></li>
			</ul>
		</div>
	</div>
</nav>
<!-- END nav -->
<section class="hero-wrap hero-wrap-2" style="background-image: url('images/bg_2.jpg');"
		 data-stellar-background-ratio="0.5">
	<div class="overlay"></div>
	<div class="container">
		<div class="row no-gutters slider-text align-items-end">
			<div class="col-md-9 ftco-animate pb-5">
				<p class="breadcrumbs mb-2"><span class="mr-2"><a href="http://localhost:8080/index">é¦–é  <i
						class="ion-ios-arrow-forward"></i></a></span> <span>> ä¸€èˆ¬é ˜é¤Š <i
						class="ion-ios-arrow-forward"></i></span></p>
				<h1 class="mb-0 bread">ä¸€èˆ¬é ˜é¤Š</h1>
			</div>
		</div>
	</div>
</section>
            </div>
            <div class="col-md-6 d-flex justify-content-md-end">
                <div class="social-media">
                    <p class="mb-0 d-flex">
                        <a href="#" class="d-flex align-items-center justify-content-center"></a>
                        <a href="#" class="d-flex align-items-center justify-content-center"></a>
                        <a href="#" class="d-flex align-items-center justify-content-center"></a>
                        <a href="#" class="d-flex align-items-center justify-content-center"></a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
<nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
    <div class="container">
        <a class="navbar-brand">ğŸ¾å¯µç‰©è³‡è¨Šå¹³å°</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav"
                aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="fa fa-bars"></span>
        </button>
        <div class="collapse navbar-collapse" id="ftco-nav">
            <ul class="navbar-nav ml-auto">

                <li class="nav-item"><a href="http://localhost:8080/public_shelter" class="nav-link">å…¬ç«‹é ˜é¤Š</a></li>
                <li class="nav-item"><a href="http://localhost:8080/personal_shelter" class="nav-link">ä¸€èˆ¬é ˜é¤Š</a></li>

                <li class="nav-item"><a href="http://localhost:8080/missing" class="nav-link">èµ°å¤±å”å°‹</a></li>
                <li class="nav-item"><a href="http://localhost:8080/publish" class="nav-link">åˆŠç™»å¯µç‰©</a></li>
                <li id="userPublishHistory" class="nav-item"></li>

                <li id="userManagement" class="nav-item"></li>

                <li id="loginAndRegist" class="nav-item"><a href="http://localhost:8080/login_register"
                                                            class="nav-link">ç™»å…¥è¨»å†Š</a></li>

            </ul>
        </div>
    </div>
</nav>
<!-- END nav -->
<section class="hero-wrap hero-wrap-2" style="background-image: url('images/bg_2.jpg');"
         data-stellar-background-ratio="0.5">
    <div class="overlay"></div>
    <div class="container">
        <div class="row no-gutters slider-text align-items-end">
            <div class="col-md-9 ftco-animate pb-5">
                <p class="breadcrumbs mb-2"><span>ä¸€èˆ¬é ˜é¤Š <i
                        class="ion-ios-arrow-forward"></i></span></p>
                <h1 class="mb-0 bread">ä¸€èˆ¬é ˜é¤Š</h1>
            </div>
        </div>
    </div>
</section>

<!-- Modal -->
<div class="modal-body">
    <div class="container-fluid">
        <div class="row">
        </div>
    </div>
</div>
<!--<div class="modal fade bd-example-modal-lg" id="exampleModalCenter" tabindex="-1" role="dialog"-->
<!--     aria-labelledby="exampleModalCenterTitle" aria-hidden="true">-->
<!--    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">-->
<!--        <div class="modal-content">-->
<!--&lt;!&ndash;            <div class="modal-header">&ndash;&gt;-->
<!--&lt;!&ndash;                <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>&ndash;&gt;-->
<!--&lt;!&ndash;                <button type="button" class="close" data-dismiss="modal" aria-label="Close">&ndash;&gt;-->
<!--&lt;!&ndash;                    <span aria-hidden="true">&times;</span>&ndash;&gt;-->
<!--&lt;!&ndash;                </button>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->
<!--&lt;!&ndash;            <div class="modal-body">&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="form-group">&ndash;&gt;-->
<!--&lt;!&ndash;                    <div class="media media-events-list bg-info">&ndash;&gt;-->
<!--&lt;!&ndash;                        <a class="media-img">&ndash;&gt;-->
<!--&lt;!&ndash;                            <img id="imageUrl_static" src="">&ndash;&gt;-->
<!--&lt;!&ndash;                        </a>&ndash;&gt;-->
<!--&lt;!&ndash;                        <div class="media-body">&ndash;&gt;-->
<!--&lt;!&ndash;                            <h3 class="media-heading mt-3 mb-2 ml-3">&ndash;&gt;-->
<!--&lt;!&ndash;                                <a class="text-white text-capitalize d-block text-truncate" id="animalId_static"></a>&ndash;&gt;-->
<!--&lt;!&ndash;                            </h3>&ndash;&gt;-->
<!--&lt;!&ndash;                            <ul class="text-white list-unstyled mb-2">&ndash;&gt;-->
<!--&lt;!&ndash;                                <il id="animalKind_static"></il>&ndash;&gt;-->
<!--&lt;!&ndash;                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                            <p id="description_static"></p>&ndash;&gt;-->
<!--&lt;!&ndash;                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                    </div>&ndash;&gt;-->
<!--                    &lt;!&ndash;                        <div class="col">&ndash;&gt;-->
<!--                    &lt;!&ndash;                            <img id="imageUrl_static" src="">&ndash;&gt;-->
<!--                    &lt;!&ndash;                        </div>&ndash;&gt;-->
<!--                    &lt;!&ndash;                        <div class="col">&ndash;&gt;-->
<!--                    &lt;!&ndash;                            <label class="col-sm-2 control-label">ç·¨è™Ÿ :</label>&ndash;&gt;-->
<!--                    &lt;!&ndash;                            <label class="form-control-static" id="animalId_static1"></label><br>&ndash;&gt;-->
<!--                    &lt;!&ndash;                            <label class="col-sm-2 control-label">ç‰©ç¨® :</label>&ndash;&gt;-->
<!--                    &lt;!&ndash;                            <label class="form-control-static" id="animalKind_static1"></label><br>&ndash;&gt;-->
<!--                    &lt;!&ndash;                            <label class="col-sm-2 control-label">å“ç¨® :</label>&ndash;&gt;-->
<!--                    &lt;!&ndash;                            <label class="form-control-static" id="animalVariety_static"></label><br>&ndash;&gt;-->
<!--                    &lt;!&ndash;                            <label class="col-sm-2 control-label">æ€§åˆ¥ :</label>&ndash;&gt;-->
<!--                    &lt;!&ndash;                            <label class="form-control-static" id="animalSex_static"></label><br>&ndash;&gt;-->
<!--                    &lt;!&ndash;                            <label class="col-sm-2 control-label">çµ•è‚² :</label>&ndash;&gt;-->
<!--                    &lt;!&ndash;                            <label class="form-control-static" id="animalSterilization_static"></label><br>&ndash;&gt;-->
<!--                    &lt;!&ndash;                            <label class="col-sm-2 control-label">ç–«è‹— :</label>&ndash;&gt;-->
<!--                    &lt;!&ndash;                            <label class="form-control-static" id="animalBacterin_static"></label><br>&ndash;&gt;-->
<!--                    &lt;!&ndash;                            <label class="col-sm-2 control-label">å‚™è¨»:</label>&ndash;&gt;-->
<!--                    &lt;!&ndash;                            <label class="form-control-static" id="description_static"></label><br>&ndash;&gt;-->
<!--                    &lt;!&ndash;                            <label class="col-sm-2 control-label">åˆŠç™»æ—¥æœŸ:</label>&ndash;&gt;-->
<!--                    &lt;!&ndash;                            <label class="form-control-static" id="createdDate_static"></label><br>&ndash;&gt;-->
<!--                    &lt;!&ndash;                            <label class="col-sm-2 control-label">æ›´æ–°æ—¥æœŸ:</label>&ndash;&gt;-->
<!--                    &lt;!&ndash;                            <label class="form-control-static" id="lastModifiedDate_static"></label><br>&ndash;&gt;-->
<!--                    &lt;!&ndash;                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;            <div class="modal-footer">&ndash;&gt;-->
<!--            &lt;!&ndash;                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>&ndash;&gt;-->
<!--            &lt;!&ndash;            </div>&ndash;&gt;-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->


<hr>
<div style="margin: auto; width: 800px;">
    ç‰©ç¨® :
    <select name="animalKind" id="kind">
        <option>ä¸åˆ†ç¨®é¡</option>
        <option>ç‹—</option>
        <option>è²“</option>
        <option>å…¶ä»–</option>
    </select>
    æ€§åˆ¥ :
    <select name="animalSex" id="sex">
        <option>ä¸åˆ†ç¨®é¡</option>
        <option>å…¬</option>
        <option>æ¯</option>
    </select>
</div>

<section class="ftco-section bg-light">
    <div class="container">
        <div class="row" id="test1Result">
        </div>
    </div>
</section>


<div style="margin: auto; width: 800px;">
    <p id="pageInfo"></p><br>
    <div class="page_show"></div>
</div>


<footer class="footer">
    <div class="row mt-5">
        <div class="col-md-12 text-center">
            <p class="copyright">
                <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                Copyright &copy;
                <script>document.write(new Date().getFullYear());</script>
                All rights reserved | This template is
                made with <i class="fa fa-heart" aria-hidden="true"></i> by <a href="https://colorlib.com"
                                                                               target="_blank">Colorlib.com</a>
                <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            </p>
        </div>
    </div>
</footer>


<!-- loader -->
<div id="ftco-loader" class="show fullscreen">
    <svg class="circular" width="48px" height="48px">
        <circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/>
        <circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10"
                stroke="#F96D00"/>
    </svg>
</div>


<script src="js/jquery.min.js"></script>
<script src="js/jquery-migrate-3.0.1.min.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.easing.1.3.js"></script>
<script src="js/jquery.waypoints.min.js"></script>
<script src="js/jquery.stellar.min.js"></script>
<script src="js/jquery.animateNumber.min.js"></script>
<script src="js/bootstrap-datepicker.js"></script>
<script src="js/jquery.timepicker.min.js"></script>
<script src="js/owl.carousel.min.js"></script>
<script src="js/jquery.magnific-popup.min.js"></script>
<script src="js/scrollax.min.js"></script>
<script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
<script src="js/google-map.js"></script>
<script src="js/main.js"></script>
<script>
    var limit;
    var pages;

    $.ajax({
        type: "GET",
        url: "/personalAnimals",
        success: function (data) {
            getAnimalList(data);
            // console.log("å–®é ç­†æ•¸:"+data["limit"]);
            // console.log("è·³éå¹¾ç­†è³‡æ–™:"+data["offset"]);
            // console.log("ç¸½ç­†æ•¸:"+data["total"]);
            // console.log(data["results"]);
            // console.log(data["results"][0]);
            // console.log(data["results"][0]["animalId"]);
            // console.log(data["results"].length)
        }
    });

    function getAnimalList(data) {
        $("#test1Result").empty();
        $.each(data["results"], function (index, item) {
            var html = "<div class='col-md-6 col-lg-3 ftco-animate'>" +
                "                <div class='staff'>" +
                "                    <div class='img-wrap d-flex align-items-stretch'>" +
                "                        <div class='work mb-4 img d-flex align-items-end' style='background-image: url(" + item.imageUrl + ");'>" +
                "                        </div>" +
                "                    </div>" +
                "                    <div class='text pt-3 px-3 pb-4 text-center' style='cursor: pointer;'>" +
                "                        <h3 id='" + item.animalId + "'>" + item.animalName + "</h3>" +
                "                        <div class='faded'>" +
                "                                <p>ç‰©ç¨®: " + item.animalKind + "</p>" +
                "                                <p>å“ç¨®: " + item.animalVariety + "</p>" +
                "                                <p>æ€§åˆ¥: " + item.animalSex + "</p>" +
                "                                <p>æ—¥æœŸ: " + item.lastModifiedDate + "</p>" +
                "                        </div>" +
                "<button type='button' onclick='getAnimalInfo(this)' class='btn btn-primary' data-toggle='modal' data-target='#exampleModalCenter'>" +
                "    è©³ç´°è³‡æ–™" +
                "</button>" +
                "                    </div>" +
                "                </div>" +
                "            </div>";


            $("#test1Result").append(html);
        })

        pages = Math.ceil(data.total / data.limit);
        console.log(data.offset / data.limit)
        limit = data.limit;

        $("#pageInfo").text("ç¸½é æ•¸:" + pages + "  ç¸½ç­†æ•¸:" + data.total);
        pageSet(pages);

        console.log("å–®é ç­†æ•¸limit:" + data["limit"]);
        console.log("è·³éå¹¾ç­†è³‡æ–™offset:" + data["offset"]);
        console.log("ç¸½ç­†æ•¸:" + data["total"]);

        $.getScript('js/main.js');
    }

    function getAnimalInfo(gid) {

        var id = $(gid).siblings("h3").attr("id");
        console.log(gid);
        console.log(id);
        $.ajax({
            type: "GET",
            url: "/personalAnimals/" + id,
            success: function (data) {

                console.log("æœƒå“¡:" + data.userId +
                    "\nç·¨è™Ÿ:" + data.animalId +
                    "\nåå­—:" + data.animalName +
                    "\nç‰©ç¨®:" + data.animalKind +
                    "\nå“ç¨®:" + data.animalVariety +
                    "\næ€§åˆ¥:" + data.animalSex +
                    "\nå¹´é½¡:" + data.animalAge +
                    "\né«”å‹:" + data.animalBodysize +
                    "\næ¯›è‰²:" + data.animalColor +
                    "\nçµ•è‚²:" + data.animalSterilization +
                    "\nç–«è‹—:" + data.animalBacterin +
                    "\nåœ–ç‰‡:" + data.imageUrl +
                    "\nåœ°å€:" + data.area +
                    "\nå‚™è¨»:" + data.description +
                    "\nåˆŠç™»æ—¥æœŸ:" + data.createdDate +
                    "\næ›´æ–°æ—¥æœŸ:" + data.lastModifiedDate);
            }
        });
    }

    //è¼¸å‡ºé ç¢¼
    function pageSet(pages) {
        var pageHtml = '';
        var start, end;
        if (listPage < 6) {
            start = 1;
        } else {
            start = listPage - 5;
        }
        if (listPage > pages - 5) {
            end = pages;
        } else {
            end = listPage + 5;
        }

        if (listPage > 1) {
            pageHtml += '<span>ä¸Šä¸€é </span>';
        }
        for (var i = start, page_cur = ''; i <= end; i++) {
            if (listPage == i) {
                page_cur = 'page_cur';
            } else {
                page_cur = '';
            }
            pageHtml += '<span class="' + page_cur + '">' + i + '</span>';
        }
        if (listPage < pages) {
            pageHtml += '<span>ä¸‹ä¸€é </span>';
        }
        $('.page_show').empty().append(pageHtml);
    }

    //é¸æ“‡åˆ†é 
    $('body').on('click', '.page_show span', function () {
        var $this = $(this);
        if ($this.hasClass('page_cur')) {
            return;
        }
        var page = $this.html();
        if (page == 'ä¸Šä¸€é ') {
            listPage = listPage - 1;
            changePage(listPage);
            // goPrePage();
        } else if (page == 'ä¸‹ä¸€é ') {
            listPage = listPage + 1;
            changePage(listPage);
            // goNextPage();
        } else {
            listPage = parseInt(page);
            changePage(listPage);
        }
        //æ ¹æ“šé ç¢¼ç²å–ç•¶å‰é åˆ—è¡¨æ•¸æ“š
        pageSet(pages);
    });
    var listPage = 1;

    function changePage(page) {
        var offset = limit * (page - 1);
        console.log(offset);
        console.log(page);
        $.ajax({
            type: "GET",
            url: "/personalAnimals?offset=" + limit * (page - 1),
            success: function (data) {
                getAnimalList(data);
            }
        })
    }
</script>


</body>

</html>